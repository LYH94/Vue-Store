(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["products"],{"057f":function(t,e,i){var r=i("fc6a"),n=i("241c").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return n(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):n(r(t))}},2532:function(t,e,i){"use strict";var r=i("23e7"),n=i("5a34"),o=i("1d80"),a=i("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,i){var r=i("861d"),n=i("c6b6"),o=i("b622"),a=o("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==n(t))}},"4de4":function(t,e,i){"use strict";var r=i("23e7"),n=i("b727").filter,o=i("1dde"),a=i("ae40"),s=o("filter"),c=a("filter");r({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,i){var r=i("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},7079:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"product"}},[i("div",{staticClass:"mt-3 p-0",attrs:{id:"productlist"}},[i("b-row",[i("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[i("h3",[t._v("商品上架管理")])]),i("b-col",{attrs:{cols:"auto"}},[i("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.productModal",modifiers:{productModal:!0}}],attrs:{variant:"outline-dark"}},[i("font-awesome-icon",{attrs:{icon:["fas","plus"]}})],1),i("b-modal",{ref:"modal",attrs:{id:"productModal",title:"商品上架管理","ok-only":"","hide-footer":"","no-close-on-backdrop":""}},[i("b-form",{staticClass:"mt-0",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[i("b-form-group",{attrs:{id:"input-group-1",label:"產品名稱","label-for":"input-1","invalid-feedback":"格式不符"}},[i("b-form-input",{attrs:{id:"input-1",type:"text",placeholder:"請輸入產品名稱"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("b-form-group",{attrs:{id:"input-group-2",label:"產品價格","label-for":"input-2","invalid-feedback":"格式不符"}},[i("b-form-input",{attrs:{id:"input-2",type:"text",placeholder:"請輸入產品價格"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),i("b-form-group",{attrs:{id:"input-group-3",label:"產品數量","label-for":"input-3","invalid-feedback":"格式不符"}},[i("b-form-input",{attrs:{id:"input-3",type:"text",placeholder:"請輸入產品數量"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),i("b-form-group",{attrs:{id:"input-group-4",label:"產品類別","label-for":"input-3","invalid-feedback":"格式不符"}},[i("b-form-input",{attrs:{id:"input-4",type:"text",placeholder:"請輸入產品類別"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),i("b-form-group",{attrs:{id:"input-group-5",label:"圖片說明","label-for":"input-4",state:t.descState,description:"最多200個字","invalid-feedback":"格式不符"}},[i("b-form-textarea",{attrs:{id:"input-5",type:"text",placeholder:"請輸入相片說明",state:t.descState},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),i("img-inputer",{staticClass:"mx-auto",attrs:{placeholder:"請選擇圖片","bottom-text":"點擊或拖曳更換圖片","max-size":1024,exceedSizeText:"檔案大小不能超過",accept:"image/*"},model:{value:t.image,callback:function(e){t.image=e},expression:"image"}}),i("br"),i("br"),i("b-btn",{attrs:{type:"submit"}},[t._v("送出")])],1)],1)],1)],1),i("b-row",[i("b-nav",[i("b-nav-item",{on:{click:function(e){t.listType="全部"}}},[t._v("全部")]),i("b-nav-item",{on:{click:function(e){t.listType="沉香粉"}}},[t._v("沉香粉")]),i("b-nav-item",{on:{click:function(e){t.listType="臥香"}}},[t._v("臥香")]),i("b-nav-item",{on:{click:function(e){t.listType="佛珠"}}},[t._v("佛珠")]),i("b-nav-item",{on:{click:function(e){t.listType="雕刻品"}}},[t._v("雕刻品")])],1)],1),i("b-row",[i("b-col",[i("table",{staticClass:"table-responsive-sm table mt-4 table-hover border"},[i("thead",{staticClass:"thead-dark"},[i("tr",[i("td",{attrs:{width:"10%"}},[t._v("商品")]),i("td",{attrs:{width:"8%"}},[t._v("類別")]),i("td",{attrs:{width:"10%"}},[t._v("名稱")]),i("td",{attrs:{width:"10%"}},[t._v("價格")]),i("td",{attrs:{width:"5%"}},[t._v("數量")]),i("td",{attrs:{width:"30%"}},[t._v("說明")]),i("td",{attrs:{width:"10%"}},[t._v("操作")])])]),i("tbody",t._l(t.product,(function(e,r){return i("tr",{key:e._id},[i("td",[i("b-img",{attrs:{src:e.src,width:"150%"}})],1),i("td",[e.edit?i("b-form-input",{model:{value:e.modelType,callback:function(i){t.$set(e,"modelType",i)},expression:"image.modelType"}}):i("p",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(e.modelType))])],1),i("td",[e.edit?i("b-form-input",{model:{value:e.modelName,callback:function(i){t.$set(e,"modelName",i)},expression:"image.modelName"}}):i("p",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(e.modelName))])],1),i("td",[e.edit?i("b-form-input",{model:{value:e.modelPrice,callback:function(i){t.$set(e,"modelPrice",i)},expression:"image.modelPrice"}}):i("p",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(e.modelPrice))])],1),i("td",[e.edit?i("b-form-input",{model:{value:e.modelQuantity,callback:function(i){t.$set(e,"modelQuantity",i)},expression:"image.modelQuantity"}}):i("p",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(e.modelQuantity))])],1),i("td",[e.edit?i("b-form-textarea",{model:{value:e.model,callback:function(i){t.$set(e,"model",i)},expression:"image.model"}}):i("p",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(e.title))])],1),i("td",[e.edit?i("b-button",{staticClass:"mr-1",on:{click:function(i){return t.cancel(e)}}},[i("font-awesome-icon",{attrs:{icon:["fas","undo"]}})],1):t._e(),e.edit?i("b-button",{attrs:{variant:"success"},on:{click:function(i){return t.save(e)}}},[i("font-awesome-icon",{attrs:{icon:["fas","check"]}})],1):t._e(),e.edit?t._e():i("b-button",{staticClass:"mr-1",on:{click:function(i){return t.edit(e)}}},[i("font-awesome-icon",{attrs:{icon:["far","edit"]}})],1),e.edit?t._e():i("b-button",{attrs:{variant:"danger"},on:{click:function(i){return t.del(e,r)}}},[i("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1)],1)])})),0)])])],1)],1)])},n=[],o=(i("a4d3"),i("e01a"),i("4de4"),i("caad"),i("d81d"),i("a434"),i("b0c0"),i("2532"),{name:"Dashboard",data:function(){return{image:null,description:"",products:[],name:"",price:"",quantity:"",type:"",listType:"全部"}},computed:{descState:function(){return 0===this.description.length?null:!(this.description.length>200)},product:function(){var t=this;return this.products.filter((function(e){return"全部"===t.listType||e.type===t.listType}))}},methods:{onSubmit:function(){var t=this;if(console.log(this.image),this.image.size>1048576)this.$swal({icon:"error",title:"錯誤",text:"圖片太大"});else if(this.image.type.includes("image")){var e=new FormData;e.append("image",this.image),e.append("type",this.type),e.append("name",this.name),e.append("price",this.price),e.append("quantity",this.quantity),e.append("description",this.description),this.axios.post("https://vuestore01.herokuapp.com/products/",e).then((function(e){console.log(e),e.data.success?(e.data.result.src="https://vuestore01.herokuapp.com/products/file/"+e.data.result.file,e.data.result.title=e.data.result.description,e.data.result.edit=!1,e.data.result.model=e.data.result.description,e.data.result.modelName=e.data.result.name,e.data.result.modelPrice=e.data.result.price,e.data.result.modelQuantity=e.data.result.quantity,e.data.result.modelType=e.data.result.type,delete e.data.result.file,delete e.data.result.description,t.products.push(e.data.result),t.type="",t.name="",t.price="",t.quantity="",t.description="",t.image=null,t.$swal({icon:"success",title:"成功新增"})):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))}else this.$swal({icon:"error",title:"錯誤",text:"檔案格式錯誤"})},cancel:function(t){t.edit=!1,t.model=t.title},save:function(t){var e=this;this.axios.patch("https://vuestore01.herokuapp.com/products/"+t._id,{description:t.model,type:t.modelType,name:t.modelName,price:t.modelPrice,quantity:t.modelQuantity}).then((function(i){i.data.success?(t.edit=!1,t.title=t.model,t.modelName=t.name,t.modelType=t.type,t.modelPrice=t.price,t.modelQuantity=t.quantity):e.$swal({icon:"error",title:"錯誤",text:i.data.message})})).catch((function(t){e.$swal({icon:"error",title:"錯誤",text:t.response.data.message})}))},edit:function(t){t.edit=!0,t.model=t.title,t.modelName=t.name,t.modelPrice=t.price,t.modelQuantity=t.quantity},del:function(t,e){var i=this;this.axios.delete("https://vuestore01.herokuapp.com/products/"+t._id).then((function(t){t.data.success?i.products.splice(e,1):i.$swal({icon:"error",title:"錯誤",text:t.data.message})})).catch((function(t){i.$swal({icon:"error",title:"錯誤",text:t.response.data.message})}))}},mounted:function(){var t=this;this.axios.get("https://vuestore01.herokuapp.com/products/").then((function(e){e.data.success?t.products=e.data.result.map((function(t){return t.src="https://vuestore01.herokuapp.com/products/file/"+t.file,t.title=t.description,t.edit=!1,t.modelName=t.name,t.modelType=t.type,t.modelPrice=t.price,t.modelQuantity=t.quantity,delete t.file,delete t.description,t})):t.$swal({icon:"error",title:"錯誤",text:e.data.message})})).catch((function(e){t.$swal({icon:"error",title:"錯誤",text:e.response.data.message})}))}}),a=o,s=(i("decd"),i("2877")),c=Object(s["a"])(a,r,n,!1,null,null,null);e["default"]=c.exports},"746f":function(t,e,i){var r=i("428f"),n=i("5135"),o=i("e538"),a=i("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});n(e,t)||a(e,t,{value:o.f(t)})}},"74ce":function(t,e,i){},a4d3:function(t,e,i){"use strict";var r=i("23e7"),n=i("da84"),o=i("d066"),a=i("c430"),s=i("83ab"),c=i("4930"),l=i("fdbf"),u=i("d039"),d=i("5135"),p=i("e8b5"),f=i("861d"),m=i("825a"),b=i("7b0b"),h=i("fc6a"),v=i("c04e"),y=i("5c6c"),g=i("7c73"),w=i("df75"),x=i("241c"),k=i("057f"),S=i("7418"),_=i("06cf"),O=i("9bf2"),T=i("d1e7"),$=i("9112"),P=i("6eeb"),N=i("5692"),j=i("f772"),q=i("d012"),C=i("90e3"),Q=i("b622"),E=i("e538"),A=i("746f"),D=i("d44e"),J=i("69f3"),z=i("b727").forEach,F=j("hidden"),M="Symbol",R="prototype",I=Q("toPrimitive"),W=J.set,B=J.getterFor(M),G=Object[R],H=n.Symbol,K=o("JSON","stringify"),L=_.f,U=O.f,V=k.f,X=T.f,Y=N("symbols"),Z=N("op-symbols"),tt=N("string-to-symbol-registry"),et=N("symbol-to-string-registry"),it=N("wks"),rt=n.QObject,nt=!rt||!rt[R]||!rt[R].findChild,ot=s&&u((function(){return 7!=g(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(t,e,i){var r=L(G,e);r&&delete G[e],U(t,e,i),r&&t!==G&&U(G,e,r)}:U,at=function(t,e){var i=Y[t]=g(H[R]);return W(i,{type:M,tag:t,description:e}),s||(i.description=e),i},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},ct=function(t,e,i){t===G&&ct(Z,e,i),m(t);var r=v(e,!0);return m(i),d(Y,r)?(i.enumerable?(d(t,F)&&t[F][r]&&(t[F][r]=!1),i=g(i,{enumerable:y(0,!1)})):(d(t,F)||U(t,F,y(1,{})),t[F][r]=!0),ot(t,r,i)):U(t,r,i)},lt=function(t,e){m(t);var i=h(e),r=w(i).concat(mt(i));return z(r,(function(e){s&&!dt.call(i,e)||ct(t,e,i[e])})),t},ut=function(t,e){return void 0===e?g(t):lt(g(t),e)},dt=function(t){var e=v(t,!0),i=X.call(this,e);return!(this===G&&d(Y,e)&&!d(Z,e))&&(!(i||!d(this,e)||!d(Y,e)||d(this,F)&&this[F][e])||i)},pt=function(t,e){var i=h(t),r=v(e,!0);if(i!==G||!d(Y,r)||d(Z,r)){var n=L(i,r);return!n||!d(Y,r)||d(i,F)&&i[F][r]||(n.enumerable=!0),n}},ft=function(t){var e=V(h(t)),i=[];return z(e,(function(t){d(Y,t)||d(q,t)||i.push(t)})),i},mt=function(t){var e=t===G,i=V(e?Z:h(t)),r=[];return z(i,(function(t){!d(Y,t)||e&&!d(G,t)||r.push(Y[t])})),r};if(c||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=C(t),i=function(t){this===G&&i.call(Z,t),d(this,F)&&d(this[F],e)&&(this[F][e]=!1),ot(this,e,y(1,t))};return s&&nt&&ot(G,e,{configurable:!0,set:i}),at(e,t)},P(H[R],"toString",(function(){return B(this).tag})),P(H,"withoutSetter",(function(t){return at(C(t),t)})),T.f=dt,O.f=ct,_.f=pt,x.f=k.f=ft,S.f=mt,E.f=function(t){return at(Q(t),t)},s&&(U(H[R],"description",{configurable:!0,get:function(){return B(this).description}}),a||P(G,"propertyIsEnumerable",dt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),z(w(it),(function(t){A(t)})),r({target:M,stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var i=H(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!s},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:pt}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft,getOwnPropertySymbols:mt}),r({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(b(t))}}),K){var bt=!c||u((function(){var t=H();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}));r({target:"JSON",stat:!0,forced:bt},{stringify:function(t,e,i){var r,n=[t],o=1;while(arguments.length>o)n.push(arguments[o++]);if(r=e,(f(e)||void 0!==t)&&!st(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),n[1]=e,K.apply(null,n)}})}H[R][I]||$(H[R],I,H[R].valueOf),D(H,M),q[F]=!0},ab13:function(t,e,i){var r=i("b622"),n=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(r){}}return!1}},caad:function(t,e,i){"use strict";var r=i("23e7"),n=i("4d64").includes,o=i("44d2"),a=i("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},d81d:function(t,e,i){"use strict";var r=i("23e7"),n=i("b727").map,o=i("1dde"),a=i("ae40"),s=o("map"),c=a("map");r({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},decd:function(t,e,i){"use strict";i("74ce")},e01a:function(t,e,i){"use strict";var r=i("23e7"),n=i("83ab"),o=i("da84"),a=i("5135"),s=i("861d"),c=i("9bf2").f,l=i("e893"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(p,u);var f=p.prototype=u.prototype;f.constructor=p;var m=f.toString,b="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=m.call(t);if(a(d,t))return"";var i=b?e.slice(7,-1):e.replace(h,"$1");return""===i?void 0:i}}),r({global:!0,forced:!0},{Symbol:p})}},e538:function(t,e,i){var r=i("b622");e.f=r}}]);
//# sourceMappingURL=products.6f2fc1bd.js.map