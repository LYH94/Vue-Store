(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cart"],{"049f":function(t,e,r){"use strict";r("22ca")},"057f":function(t,e,r){var n=r("fc6a"),o=r("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(n(t))}},"22ca":function(t,e,r){},2532:function(t,e,r){"use strict";var n=r("23e7"),o=r("5a34"),i=r("1d80"),a=r("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,r){"use strict";var n=r("6eeb"),o=r("825a"),i=r("d039"),a=r("ad6d"),s="toString",c=RegExp.prototype,l=c[s],u=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),f=l.name!=s;(u||f)&&n(RegExp.prototype,s,(function(){var t=o(this),e=String(t.source),r=t.flags,n=String(void 0===r&&t instanceof RegExp&&!("flags"in c)?a.call(t):r);return"/"+e+"/"+n}),{unsafe:!0})},"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,o=r("69f3"),i=r("7dd0"),a="String Iterator",s=o.set,c=o.getterFor(a);i(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=c(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},"44e7":function(t,e,r){var n=r("861d"),o=r("c6b6"),i=r("b622"),a=i("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},"4df4":function(t,e,r){"use strict";var n=r("0366"),o=r("7b0b"),i=r("9bdd"),a=r("e95a"),s=r("50c4"),c=r("8418"),l=r("35a1");t.exports=function(t){var e,r,u,f,d,m,b=o(t),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,g=void 0!==v,y=l(b),S=0;if(g&&(v=n(v,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(e=s(b.length),r=new p(e);e>S;S++)m=g?v(b[S],S):b[S],c(r,S,m);else for(f=y.call(b),d=f.next,r=new p;!(u=d.call(f)).done;S++)m=g?i(f,v,[u.value,S],!0):u.value,c(r,S,m);return r.length=S,r}},"5a34":function(t,e,r){var n=r("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},6547:function(t,e,r){var n=r("a691"),o=r("1d80"),i=function(t){return function(e,r){var i,a,s=String(o(e)),c=n(r),l=s.length;return c<0||c>=l?t?"":void 0:(i=s.charCodeAt(c),i<55296||i>56319||c+1===l||(a=s.charCodeAt(c+1))<56320||a>57343?t?s.charAt(c):i:t?s.slice(c,c+2):a-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},"746f":function(t,e,r){var n=r("428f"),o=r("5135"),i=r("e538"),a=r("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},"9bdd":function(t,e,r){var n=r("825a"),o=r("2a62");t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(a){throw o(t),a}}},a4d3:function(t,e,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("d066"),a=r("c430"),s=r("83ab"),c=r("4930"),l=r("fdbf"),u=r("d039"),f=r("5135"),d=r("e8b5"),m=r("861d"),b=r("825a"),p=r("7b0b"),h=r("fc6a"),v=r("c04e"),g=r("5c6c"),y=r("7c73"),S=r("df75"),w=r("241c"),x=r("057f"),k=r("7418"),C=r("06cf"),O=r("9bf2"),A=r("d1e7"),L=r("9112"),_=r("6eeb"),T=r("5692"),N=r("f772"),j=r("d012"),$=r("90e3"),P=r("b622"),E=r("e538"),M=r("746f"),R=r("d44e"),V=r("69f3"),D=r("b727").forEach,F=N("hidden"),G="Symbol",I="prototype",H=P("toPrimitive"),J=V.set,B=V.getterFor(G),z=Object[I],q=o.Symbol,Q=i("JSON","stringify"),U=C.f,W=O.f,K=x.f,X=A.f,Y=T("symbols"),Z=T("op-symbols"),tt=T("string-to-symbol-registry"),et=T("symbol-to-string-registry"),rt=T("wks"),nt=o.QObject,ot=!nt||!nt[I]||!nt[I].findChild,it=s&&u((function(){return 7!=y(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=U(z,e);n&&delete z[e],W(t,e,r),n&&t!==z&&W(z,e,n)}:W,at=function(t,e){var r=Y[t]=y(q[I]);return J(r,{type:G,tag:t,description:e}),s||(r.description=e),r},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},ct=function(t,e,r){t===z&&ct(Z,e,r),b(t);var n=v(e,!0);return b(r),f(Y,n)?(r.enumerable?(f(t,F)&&t[F][n]&&(t[F][n]=!1),r=y(r,{enumerable:g(0,!1)})):(f(t,F)||W(t,F,g(1,{})),t[F][n]=!0),it(t,n,r)):W(t,n,r)},lt=function(t,e){b(t);var r=h(e),n=S(r).concat(bt(r));return D(n,(function(e){s&&!ft.call(r,e)||ct(t,e,r[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},ft=function(t){var e=v(t,!0),r=X.call(this,e);return!(this===z&&f(Y,e)&&!f(Z,e))&&(!(r||!f(this,e)||!f(Y,e)||f(this,F)&&this[F][e])||r)},dt=function(t,e){var r=h(t),n=v(e,!0);if(r!==z||!f(Y,n)||f(Z,n)){var o=U(r,n);return!o||!f(Y,n)||f(r,F)&&r[F][n]||(o.enumerable=!0),o}},mt=function(t){var e=K(h(t)),r=[];return D(e,(function(t){f(Y,t)||f(j,t)||r.push(t)})),r},bt=function(t){var e=t===z,r=K(e?Z:h(t)),n=[];return D(r,(function(t){!f(Y,t)||e&&!f(z,t)||n.push(Y[t])})),n};if(c||(q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=$(t),r=function(t){this===z&&r.call(Z,t),f(this,F)&&f(this[F],e)&&(this[F][e]=!1),it(this,e,g(1,t))};return s&&ot&&it(z,e,{configurable:!0,set:r}),at(e,t)},_(q[I],"toString",(function(){return B(this).tag})),_(q,"withoutSetter",(function(t){return at($(t),t)})),A.f=ft,O.f=ct,C.f=dt,w.f=x.f=mt,k.f=bt,E.f=function(t){return at(P(t),t)},s&&(W(q[I],"description",{configurable:!0,get:function(){return B(this).description}}),a||_(z,"propertyIsEnumerable",ft,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),D(S(rt),(function(t){M(t)})),n({target:G,stat:!0,forced:!c},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var r=q(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!s},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:mt,getOwnPropertySymbols:bt}),n({target:"Object",stat:!0,forced:u((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(p(t))}}),Q){var pt=!c||u((function(){var t=q();return"[null]"!=Q([t])||"{}"!=Q({a:t})||"{}"!=Q(Object(t))}));n({target:"JSON",stat:!0,forced:pt},{stringify:function(t,e,r){var n,o=[t],i=1;while(arguments.length>i)o.push(arguments[i++]);if(n=e,(m(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),o[1]=e,Q.apply(null,o)}})}q[I][H]||L(q[I],H,q[I].valueOf),R(q,G),j[F]=!0},a630:function(t,e,r){var n=r("23e7"),o=r("4df4"),i=r("1c7e"),a=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:a},{from:o})},ab13:function(t,e,r){var n=r("b622"),o=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[o]=!1,"/./"[t](e)}catch(n){}}return!1}},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b789:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"my-5",attrs:{id:"cart"}},[t.items.length>0?r("b-container",[r("h4",[t._v("購物車")]),r("form-wizard",{attrs:{title:"",subtitle:"","step-size":"sm",color:"#736F66","back-button-text":"上一頁","next-button-text":"下一頁","finish-button-text":"完成"},on:{"on-complete":function(e){return t.onComplete()}}},[r("tab-content",{attrs:{title:t.steps[0]}},[r("b-table",{staticClass:"tb-left mt-5",attrs:{items:t.items,fields:t.fields,stacked:"sm",outlined:"",responsive:"",striped:"",hover:""},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[t._v(t._s(e.item.name))]}},{key:"cell(src)",fn:function(t){return[r("b-img",{attrs:{src:t.item.src,width:"130",height:"100"}})]}},{key:"cell(count)",fn:function(e){return[r("b-form-spinbutton",{attrs:{id:"sb-inline",inline:"inline"},on:{change:function(r){return t.addCart(e.item)}},model:{value:e.item.count,callback:function(r){t.$set(e.item,"count",r)},expression:"data.item.count"}})]}},{key:"cell(total)",fn:function(e){return[t._v(t._s(e.item.count*e.item.price))]}},{key:"cell(action)",fn:function(e){return[r("b-button",{attrs:{variant:"danger"},on:{click:function(r){return t.del(e.index)}}},[r("font-awesome-icon",{attrs:{icon:["far","trash-alt"]}})],1)]}}],null,!1,1702274109)})],1),r("tab-content",{attrs:{title:t.steps[1]}},[r("b-container",{staticClass:"my-5"},[r("b-row",[r("b-col",{staticClass:"mb-4 order-lg-2",attrs:{cols:"12",lg:"4"}},[r("h4",{staticClass:"d-flex justify-content-between align-items-center mb-3"},[r("span",[t._v("你的購物車")]),r("span",{staticClass:"badge badge-secondary badge-pill"},[t._v(t._s(t.totalcount))])]),r("b-list-group",{staticClass:"mb-3",model:{value:t.checkouts,callback:function(e){t.checkouts=e},expression:"checkouts"}},[t._l(t.items,(function(e,n){return r("b-list-group-item",{key:n},[r("div",[r("b-row",[r("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[t._v(t._s(e.name))]),r("b-col",{attrs:{cols:"2"}},[t._v(t._s(e.count))]),r("b-col",{staticClass:"pl-4",attrs:{cols:"4"}},[t._v("$ "+t._s(e.count*e.price))])],1)],1)])})),r("b-list-group-item",[r("b-row",[r("b-col",{staticClass:"mr-auto",attrs:{cols:"auto"}},[t._v("總計")]),r("b-col",{attrs:{cols:"2"}},[t._v(t._s(t.totalcount))]),r("b-col",{staticClass:"text-danger pl-4",attrs:{cols:"4"}},[t._v("$ "+t._s(t.totalprice))])],1)],1)],2)],1),r("b-col",{staticClass:"order-lg-1",attrs:{cols:"12",lg:"8"}},[r("h4",{staticClass:"mb-3"},[t._v("聯絡資訊")]),r("b-form-group",{attrs:{id:"form-1",label:"姓名","label-for":"form-name","label-cols-sm":"2","invalid-feedback":"格式不符",state:t.state("name")}},[r("b-form-input",{attrs:{id:"form-name",state:t.state("name"),placeholder:"請輸入名字",trim:""},model:{value:t.payName,callback:function(e){t.payName=e},expression:"payName"}})],1),r("b-form-group",{attrs:{id:"form-2",label:"電話","label-for":"form-phone","label-cols-sm":"2","invalid-feedback":"電話號碼最少 9 個字，最多 10 個字",state:t.state("phone")}},[r("b-form-input",{attrs:{id:"form-phone",state:t.state("phone"),placeholder:"請輸入電話",trim:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),r("b-form-group",{attrs:{id:"form-3",label:"電子信箱","label-for":"form-email","label-cols-sm":"2","invalid-feedback":"格式不符",state:t.state("email")}},[r("b-form-input",{attrs:{type:"email",id:"form-email",state:t.state("email"),placeholder:"請輸入電子信箱",trim:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),r("b-form-group",{attrs:{id:"form-4",label:"地址","label-for":"form-address","label-cols-sm":"2","invalid-feedback":"格式不符",state:t.state("address")}},[r("b-form-input",{attrs:{id:"form-address",state:t.state("address"),placeholder:"請輸入地址",trim:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),r("b-form-group",{attrs:{id:"form-5",label:"備註","label-for":"form-note","label-cols-sm":"2"}},[r("b-form-input",{attrs:{id:"form-note",placeholder:"備註",trim:""},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)],1)],1)],1)],1)],1)],1):r("b-container",{staticClass:"my-5 d-flex justify-content-center"},[r("div",{staticClass:"no-items"},[r("h1",[r("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","shopping-cart"]}}),t._v(" 你的購物車是空的")],1),r("router-link",{attrs:{to:"/shop"}},[r("p",[r("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","shopping-bag"]}}),t._v("快去逛逛")],1)])],1)])],1)},o=[];r("caad"),r("2532"),r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("a630"),r("fb6a"),r("b0c0"),r("25f0");function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){if(t){if("string"===typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}function s(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=a(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,i=t},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(c)throw i}}}}var c={name:"Cart",data:function(){return{payName:"",phone:"",email:"",address:"",note:"",steps:["確認商品","完成訂單"],fields:[{key:"src",label:"商品"},{key:"name",label:"名稱"},{key:"price",label:"價格"},{key:"count",label:"數量"},{key:"total",label:"總計"},{key:"action",label:"操作"}]}},computed:{items:function(){return this.$store.getters.items},totalcount:function(){var t,e=0,r=s(this.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;e+=n.count}}catch(o){r.e(o)}finally{r.f()}return e},totalprice:function(){var t,e=0,r=s(this.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;e+=n.count*n.price}}catch(o){r.e(o)}finally{r.f()}return e},user:function(){return this.$store.state.user},checkouts:function(){return this.$store.getters.items}},methods:{del:function(t){this.$store.commit("delCart",t)},state:function(t){return"name"===t?0===this.payName.length?null:this.payName.length>=2:"phone"===t?0===this.phone.length?null:!(this.phone.length<9||this.phone.length>10):"email"===t?0===this.email.length?null:this.email.includes("@"):"address"===t?0===this.address.length?null:!(this.address.length<10):void 0},onComplete:function(){var t=this;0===this.user.id.length?this.$swal({icon:"warning",title:"尚未登入喔",timer:1e3,timerProgressBar:!0}).then((function(){t.$router.push("/login")})):(this.axios.post("https://vuestore01.herokuapp.com/orders/",{payName:this.payName,phone:this.phone,email:this.email,address:this.address,note:this.note,checkouts:this.checkouts}).then((function(e){t.orders.push(e.data.result)})).catch((function(e){t.$swal({icon:"error",title:"發生錯誤",text:e.response.data.message})})),this.$swal({icon:"success",title:"你的訂單已完成",timer:2e3,timerProgressBar:!0}).then((function(){t.payName="",t.phone="",t.email="",t.address="",t.note="",t.$store.state.items.length=null,t.$router.push("/cart")})))}}},l=c,u=(r("049f"),r("2877")),f=Object(u["a"])(l,n,o,!1,null,null,null);e["default"]=f.exports},caad:function(t,e,r){"use strict";var n=r("23e7"),o=r("4d64").includes,i=r("44d2"),a=r("ae40"),s=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!s},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},d28b:function(t,e,r){var n=r("746f");n("iterator")},ddb0:function(t,e,r){var n=r("da84"),o=r("fdbc"),i=r("e260"),a=r("9112"),s=r("b622"),c=s("iterator"),l=s("toStringTag"),u=i.values;for(var f in o){var d=n[f],m=d&&d.prototype;if(m){if(m[c]!==u)try{a(m,c,u)}catch(p){m[c]=u}if(m[l]||a(m,l,f),o[f])for(var b in i)if(m[b]!==i[b])try{a(m,b,i[b])}catch(p){m[b]=i[b]}}}},e01a:function(t,e,r){"use strict";var n=r("23e7"),o=r("83ab"),i=r("da84"),a=r("5135"),s=r("861d"),c=r("9bf2").f,l=r("e893"),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(f[e]=!0),e};l(d,u);var m=d.prototype=u.prototype;m.constructor=d;var b=m.toString,p="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(m,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=b.call(t);if(a(f,t))return"";var r=p?e.slice(7,-1):e.replace(h,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,r){var n=r("b622");e.f=n},fb6a:function(t,e,r){"use strict";var n=r("23e7"),o=r("861d"),i=r("e8b5"),a=r("23cb"),s=r("50c4"),c=r("fc6a"),l=r("8418"),u=r("b622"),f=r("1dde"),d=r("ae40"),m=f("slice"),b=d("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),h=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!m||!b},{slice:function(t,e){var r,n,u,f=c(this),d=s(f.length),m=a(t,d),b=a(void 0===e?d:e,d);if(i(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?o(r)&&(r=r[p],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return h.call(f,m,b);for(n=new(void 0===r?Array:r)(v(b-m,0)),u=0;m<b;m++,u++)m in f&&l(n,u,f[m]);return n.length=u,n}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=cart.b65dd4fd.js.map